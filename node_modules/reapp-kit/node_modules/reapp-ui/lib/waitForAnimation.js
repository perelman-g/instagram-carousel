// todo reimplement
"use strict";

function animateStore() {
  return { step: 1 };
};

module.exports = function waitForAnimation(name, cb) {
  var animating = function animating() {
    return !!animateStore(name) && animateStore(name).step % 1 !== 0;
  };

  var doneAnimating = (function (_doneAnimating) {
    function doneAnimating() {
      return _doneAnimating.apply(this, arguments);
    }

    doneAnimating.toString = function () {
      return _doneAnimating.toString();
    };

    return doneAnimating;
  })(function () {
    return !animating() ? cb() : setTimeout(doneAnimating, 50);
  });

  doneAnimating();
};